var h=[/\b(can)(not)\b/i,/\b(d)('ye)\b/i,/\b(gim)(me)\b/i,/\b(gon)(na)\b/i,/\b(got)(ta)\b/i,/\b(lem)(me)\b/i,/\b(more)('n)\b/i,/\b(wan)(na) /i,/\ ('t)(is)\b/i,/\ ('t)(was)\b/i],w=["jr","mr","mrs","ms","dr","prof","sr","sen","corp","rep","gov","atty","supt","det","rev","col","gen","lt","cmdr","adm","capt","sgt","cpl","maj","miss","misses","mister","sir","esq","mstr","phd","adj","adv","asst","bldg","brig","comdr","hon","messrs","mlle","mme","op","ord","pvt","reps","res","sens","sfc","surg"],I=["arc","al","exp","rd","st","dist","mt","fy","pd","pl","plz","tce","llb","md","bl","ma","ba","lit","ex","e.g","i.e","circa","ca","cca","v.s","etc","esp","ft","b.c","a.d"],z=["co","corp","yahoo","joomla","jeopardy","dept","univ","assn","bros","inc","ltd"],B=["ala","ariz","ark","cal","calif","col","colo","conn","del","fed","fla","fl","ga","ida","ind","ia","la","kan","kans","ken","ky","la","md","mich","minn","mont","neb","nebr","nev","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wash","wis","wisc","wy","wyo","usafa","alta","ont","que","sask","yuk","ave","blvd","cl","ct","cres","hwy","U.S","U.S.A","E.U","N\xB0"],O=["a.m","p.m"],N=["jan","feb","mar","apr","jun","jul","aug","sep","oct","nov","dec","sept","sep"],x=["ex","e.g","i.e","circa","ca","cca","v.s","esp","ft","st","mt",...w],d=[...I,...N,...z,...B,...O,...w];function u(t){if(t.length===0)return[];let n=t.replace(/^\"/," `` ").replace(/([ (\[{<])"/g,"$1 `` ").replace(/\.\.\.*/g," ... ").replace(/[;@#$%&]/g," $& ").replace(/([^\.])(\.)([\]\)}>"\']*)\s*$/g,"$1 $2$3 ").replace(/[,?!]/g," $& ").replace(/[\]\[\(\)\{\}<>]/g," $& ").replace(/---*/g," -- ");n=` ${n} `,n=n.replace(/"/g," '' ").replace(/([^'])' /g,"$1 ' ").replace(/'([sSmMdD]) /g," '$1 ").replace(/('ll|'LL|'re|'RE|'ve|'VE|n't|N'T) /g," $1 ");let i=-1;for(;i++<h.length;)n=n.replace(h[i]," $1 $2 ");return n=n.replace(/\ \ +/g," ").replace(/^\ |\ $/g,""),n.split(" ")}function R(t){if(t.length===0)return[];let n=new RegExp(`\\b(${d.join("|")})[.!?] ?$`,"i"),i=new RegExp(/[ |.][A-Z].?$/,"i"),s=new RegExp(/[\r\n]+/,"g"),o=new RegExp(/\.\.\.*$/),a=new RegExp(`\\b(${x.join("|")})[.!?] ?$`,"i"),e=t.split(/(\S.+?[.?!])(?=\s+|$|")/g),c=[];for(let r=0;r<e.length;r++)if(e[r])if(e[r]=e[r].replace(/(^ +| +$)/g,""),s.test(e[r]))e[r+1]&&p(e[r])?e[r+1]=`${e[r].trim()||""} ${(e[r+1]||"").replace(/ +/g," ")}`:c.push(...e[r].trim().split(`
`));else if(e[r+1]&&n.test(e[r])){let l=e[r+1];l.trim()&&p(l)&&!a.test(e[r])?(c.push(e[r]),e[r]=""):e[r+1]=`${e[r]||""} ${(l||"").replace(/ +/g," ")}`}else if(e[r].length>1&&e[r+1]&&i.test(e[r])){let l=e[r].split(" "),g=l[l.length-1];g===g.toLowerCase()?e[r+1]=e[r+1]=`${e[r]||""} ${(e[r+1]||"").replace(/ +/g," ")}`:e[r+2]&&(p(l[l.length-2])&&p(e[r+2])?e[r+2]=(e[r]||"")+(e[r+1]||"").replace(/ +/g," ")+(e[r+2]||""):(c.push(e[r]),e[r]=""))}else e[r+1]&&o.test(e[r])?e[r+1]=(e[r]||"")+(e[r+1]||"").replace(/ +/g," "):e[r]&&e[r].length>0&&(c.push(e[r]),e[r]="");return c.length===0?[t]:c}function p(t){let n=t.trim().slice(0,1);return G(n)}function G(t){if(t.length!==1)throw new RangeError("Input should be a single character");return t.toUpperCase()===t&&t.toLowerCase()!==t}function M(t,n=Map){return(()=>{let i=new n;return s=>{if(i.has(s)){let a=i.get(s);if(a!==void 0)return a}let o=t(s);return i.set(s,o),o}})()}function k(t,n=1){if(t<0)throw RangeError("Input must be a positive number");return t<2?n:k(t-1,t*n)}var K=M(k);function T(t,n=1/0){if(t.length<2)throw new RangeError("Input must have at least two words");let i=[];for(let s=0;s<t.length-1;s++){let o=Math.min(s+1+n,t.length);for(let a=s+1;a<o;a++)i.push(`${t[s]} ${t[a]}`)}return i}var j={start:!1,end:!1,val:"<S>"};function S(t,n=2,i={}){if(n<1)throw new RangeError("ngram size cannot be smaller than 1");if(t.length<n)throw new RangeError("ngram size cannot be larger than the number of tokens available");if(Object.keys(i).length!==0){let o={...j,...i},a=t.slice(0);if(o.start)for(let e=0;e<n-1;e++)a.unshift(o.val);if(o.end)for(let e=0;e<n-1;e++)a.push(o.val);t=a}let s=[];for(let o=0;o<t.length-n+1;o++)s.push(t.slice(o,o+n).join(" "));return s}function W(t){if(t<2)throw new RangeError("Input must be greater than 2");return .5*t*(t-1)}function _(t){if(t.length<1)throw new RangeError("Input array must have at least 1 element");return t.reduce((n,i)=>n+i)/t.length}function q(t,n,i,s=_){if(t.length<2)throw new RangeError("Candidate array must contain more than one element");let o=t.map(e=>i(e,n)),a=[];for(let e=0;e<o.length;e++){let c=o.slice(0);c.splice(e,1),a.push(Math.max(...c))}return s(a)}function f(t,n,i=.5){if(t<0||t>1)throw new RangeError("Precision value p must have bounds 0 \u2264 p \u2264 1");if(n<0||n>1)throw new RangeError("Recall value r must have bounds 0 \u2264 r \u2264 1");if(i<0)throw new RangeError("beta value must be greater than 0");return 0<=i&&i<=1?(1+i*i)*n*t/(n+i*i*t):n}function b(t,n){let i=new Set(t),s=new Set(n);return Array.from(i).filter(o=>s.has(o))}function E(t,n){if(t.length===0||n.length===0)return[];let i=Array(t.length+1).fill(0).map(()=>Array(n.length+1).fill(0));for(let e=1;e<=t.length;e++)for(let c=1;c<=n.length;c++)t[e-1]===n[c-1]?i[e][c]=i[e-1][c-1]+1:i[e][c]=Math.max(i[e-1][c],i[e][c-1]);let s=[],o=t.length,a=n.length;for(;o>0&&a>0;)t[o-1]===n[a-1]?(s.unshift(t[o-1]),o--,a--):i[o-1][a]>i[o][a-1]?o--:a--;return s}function F(t,n,i){if(t.length===0)throw new RangeError("Candidate cannot be an empty string");if(n.length===0)throw new RangeError("Reference cannot be an empty string");let s={n:1,beta:1,caseSensitive:!0,nGram:S,tokenizer:u,...i},o=s.caseSensitive?t:t.toLowerCase(),a=s.caseSensitive?n:n.toLowerCase(),e=s.nGram(s.tokenizer(o),s.n),c=s.nGram(s.tokenizer(a),s.n),r=b(e,c);if(r.length===0)return 0;let l=r.length/e.length,g=r.length/c.length;return f(l,g,s.beta)}function X(t,n,i){if(t.length===0)throw new RangeError("Candidate cannot be an empty string");if(n.length===0)throw new RangeError("Reference cannot be an empty string");let s={beta:1,caseSensitive:!0,maxSkip:1/0,skipBigram:T,tokenizer:u,...i},o=s.caseSensitive?t:t.toLowerCase(),a=s.caseSensitive?n:n.toLowerCase(),e=s.skipBigram(s.tokenizer(o),s.maxSkip),c=s.skipBigram(s.tokenizer(a),s.maxSkip),r=b(e,c).length;if(r===0)return 0;{let l=r/c.length,g=r/e.length;return f(g,l,s.beta)}}function Z(t,n,i){if(t.length===0)throw new RangeError("Candidate cannot be an empty string");if(n.length===0)throw new RangeError("Reference cannot be an empty string");let s={beta:1,caseSensitive:!0,lcs:E,segmenter:R,tokenizer:u,...i},o=s.caseSensitive?t:t.toLowerCase(),a=s.caseSensitive?n:n.toLowerCase(),e=s.segmenter(o),c=s.segmenter(a),r=s.tokenizer(o),l=s.tokenizer(a),g=c.map(y=>{let C=s.tokenizer(y);return new Set(e.flatMap(A=>s.lcs(s.tokenizer(A),C))).size}),m=0;for(;g.length;)m+=g.pop()||0;if(m===0)return 0;let v=m/r.length,$=m/l.length;return f($,v,s.beta)}export{j as NGRAM_DEFAULT_OPTS,_ as arithmeticMean,G as charIsUpperCase,W as comb2,f as fMeasure,K as fact,b as intersection,q as jackKnife,Z as l,E as lcs,F as n,S as nGram,X as s,R as sentenceSegment,T as skipBigram,p as strIsTitleCase,u as treeBankTokenize};
//# sourceMappingURL=rouge.mjs.map
